# Live Board

## Общие сведения

### Цель проекта

Цель проекта - разработать устройство, позволяющее транслировать видео с маркерной доски или сохранять отдельные кадры в векторном формате.
Данное устройство может быть использовано для онлайн-уроков или для сохранения рисунков на маркерной доске для дальнейшей обработки.

### Команда исполнителей

- Хабнер Георгий
- Бутвин Михаил

## Технические требования

### Требования к функциональным характеристикам

- Система должна получить изображение маркерной доски с камеры
- Система должна производить обработку изображения:
  - Убирать шумы
  - По возможности убирать лишние предметы (руки, меркеры, ...)
  - При сохранении кадра переводить его в векторный формат (svg)
- Система должна сохранять кадры в формате svg
- Система должна транслировать изображение в реальном времени на локальную WI-FI точку доступа

### Требования к надежности

- Допускается потеря кадров при трансляции не более 10%
- Допускается задержка трансляции не более 3 секунды
- Мы не несем ответственность за ошибки, вызванные аппаратной и программной платформой Raspberry Pi

### Условия эксплуатации

- Клиент должен поддерживать стриминг mp4 видео (по http)
- Стабильное подключение к WI-FI со скоростью не менее 10 Мбит/с

Условия эксплуатации, наследуемые от Raspberry PI:
- 0-50 градусов
- 5V/2.5A DC power input
- ...

### Требования к составу и параметрам технических средств

- Raspberry PI 3 B+ (+ корпус с активным охлаждением)
- Web-камера с подключением по usb

Выбор Raspberry PI 3 B+ обоснован ее наличием и предположением о достаточной производительности.
Для стабильной работы Raspberry PI 3 B+ также необходим корпус с активным охлаждением.

Детальные требования будут определены после разработки прототипа,
так как центральной частью проекта является алгоритм обработки изображения,
и до его имплементации невозможно точно определить требования к аппаратной части.
Возможно получится прийти к более дешевой аппаратной платформе (условный esp32 + какой-нибудь чип для подключения камеры).

### Требования к информационной и программной совместимости

- Совместимость файла конфигурации программы (настройки уровня шумов, контрастности, и тд)


## Требования к документации

- Пользовательская документация (поиск устройства, подключение к веб-интерфейсу и тд)
- Инструкция по сборке кода и зависимостям проекта


## Технико-экономические показатели

### Ориентировочная стоимость единичного выпуска продукта:

|                         |      |
| ----------------------- | ---- |
| Raspberry PI 3 B+       | 6500 |
| Корпус с охлаждением    | 800  |
| Logitech HD Webcam C270 | 1800 |
| Итого                   | 9300 |

### Ориентировочная стоимость серийного выпуска продукта:

Хотя вообще серийный выпуск устройства не очень целесообразен и для массового распространиния логичнее написать приложение под ПК, чем делать отдельное устройство,
давайте рассмотрим возможные перспективы.

Более выгодные технические требования для реализации можно будет уточнить после реализации прототипа.
Если окажется, что ресурсов raspberry более чем достаточно, можно будет попробовать перейти на более дешевые решения: NanoPi, ZeroPi, esp32 - цена в районе 10$
Если понадобятся вычисления на графическом ускорители, можно рассмотреть NVIDIA Jetson Nano 2GB, цена сопоставима с Raspberry.

## Стадии и этапы разработки

1. Анализ технических и программных возможностей (2 недели)
    - Изучить протоколы для стриминга
    - Изучить возможность создание точки доступа на raspberry pi и удобного подключения к ней
    - Быстродействие обработки изображения, достаточно ли вычислений на CPU или нужна работа с графическими ускорителями
    - Подобрать библиотеку для обработки фото/видео
2. Разработка прототипа алгоритма обработки изображения (4 недели)
    - Коррекция яркости, контрастности, сатурации
    - Очистка от шумов
    - Выравнивание горизонта
    - Перевод в SVG
3. Разработка базовой платформы для работы на Raspberry PI (4 недели, параллельно с разработкой алгоритма обработки)
    - Сохранение видео/отдельных кадров
    - Получение изображение с камеры
    - Заглушка обработки изображения
    - Создание WI-FI точки
    - Простейший стриминг видео
4. Интеграция алгоритма с базовой платформой (2 недели)
5. Доработка алгоритма
    - Удаление объектов их кадра
    - Улучшение качества, быстродействия
6. Доработка базовой платформы (4 недели, параллельно с доработкой алгоритма)
    - Стриминг видео
    - Веб-интерфейс стрима и настроек обработки
    - Улучшения стабильности, быстродействия

## Порядок контроля и приемки

- Snapshot тесты работы алгоритма обработки
- Ручное функциональное тестирование по чек-листу
